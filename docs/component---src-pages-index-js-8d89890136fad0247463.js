(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{137:function(e,t,n){"use strict";n.r(t);n(28),n(215),n(216),n(80),n(34),n(48),n(219),n(225);var a=n(0),i=n.n(a),l=n(74),r=n(325),o=Object(l.css)("margin:0 auto;max-width:1140px;display:flex;flex-direction:column;"),c=function(e){var t=e.children;return i.a.createElement("div",{className:o}," ",t," ")},s=n(326),m=n(296),d=n.n(m),u=n(298),p=n.n(u),f=(n(314),n(315),n(214));var x=Object(l.css)("color:#000000db;font-family:LatoLatinWebBlack;width:100%;display:flex;.slick-initialized .slick-slide{float:none;display:inline-block;vertical-align:middle;}.left{flex:4;align-items:center;display:flex;flex-direction:row;img{}.Ratio{flex:1;}.Ratio-content{display:flex;flex-direction:column;justify-content:center;}svg{cursor:pointer;@media only screen and (max-width:768px){width:30px;}}}.right{display:flex;flex-direction:column;justify-content:center;text-align:center;flex:4;padding:0 10px;h3{margin:0;font-size:4.4em;}h2{margin:0;font-weight:100;font-size:4em;margin-top:-20px;}.row{display:flex;}}@media only screen and (max-width:768px){flex-direction:column-reverse;.right{margin:25px 10px 15px 10px;h3{margin:0;font-size:3.2em;}h2{margin:0;font-weight:100;font-size:2.5em;margin-top:-10px;}}}"),g=Object(l.css)("flex:1;margin-top:5px;label{margin:0;font-size:1.4em;}p{margin:-8px 0 0 0;font-size:2.2em;}@media only screen and (max-width:768px){label{font-size:1em;}p{margin:-4px 0 0 0;font-size:1.3em;}}"),b=function(e){var t=e.label,n=e.text;return i.a.createElement("div",{className:g},i.a.createElement("label",null,t),i.a.createElement("p",null,n))},h=Object(l.css)("display:flex;margin-top:25px;height:2em;align-items:center;div{flex:1;}p{font-size:2.4em;margin:0;}a{display:block;text-align:center;width:100%;font-weight:700;padding:5px 0;font-size:2em;border-bottom:5px solid #000000db;text-decoration:none;color:#000000db;cursor:pointer;}@media only screen and (max-width:768px){margin-top:12px;p{font-size:1.4em;}a{font-size:1em;}}"),v=function(e){var t=e.price,n=e.onClick;return i.a.createElement("div",{className:h},i.a.createElement("div",null,i.a.createElement("p",null,"¥",t)),i.a.createElement("div",null,i.a.createElement("a",{onClick:n},"预约访问")))},E=Object(l.css)("width:0;@media only screen and (max-width:768px){width:initial;}"),w=i.a.memo(function(e){var t=e.onOpenInfo,n=e.carpet,l=Object(a.useRef)(null);return i.a.createElement("div",{className:x},i.a.createElement("div",{className:"left"},i.a.createElement("div",null,i.a.createElement(f.b,{size:40,onClick:function(){return l.current.slickPrev()}})),i.a.createElement(d.a,{ratio:n.fields.mainImage.normal.aspectRatio},i.a.createElement(p.a,Object.assign({ref:l},{swipe:!1,dots:!1,arrows:!1,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1,lazyLoad:!0}),i.a.createElement(s.a,{enlargedImagePosition:"over",smallImage:Object.assign({alt:"Wristwatch by Ted Baker London",isFluidWidth:!0},n.fields.mainImage.normal),largeImage:Object.assign({},n.fields.mainImage.zoom,{width:1800*n.fields.mainImage.normal.aspectRatio,height:1800}),lensStyle:{backgroundColor:"rgba(0,0,0,.6)"}}))),i.a.createElement("div",{className:E},i.a.createElement(f.c,{size:40,onClick:function(){return l.current.slickNext()}}))),i.a.createElement("div",{className:"right"},i.a.createElement("h3",null,n.series),i.a.createElement("h2",null,n.series_cn),i.a.createElement("div",{className:"row"},i.a.createElement(b,{label:"标记",text:n.signature}),i.a.createElement(b,{label:"制造",text:n.made_in})),i.a.createElement("div",{className:"row"},i.a.createElement(b,{label:"密度",text:n.density}),i.a.createElement(b,{label:"尺寸",text:n.display_size})),i.a.createElement(v,{price:n.price,onClick:t})))},function(e,t){return e.carpet.id===t.carpet.id}),y=Object(l.css)("height:70px;p{font-size:26px;font-weight:700;margin:0;}a{text-decoration:none;color:inherit;}.click{border-bottom:5px solid #000000db;color:#000000db;height:60px;display:flex;flex-direction:row;justify-content:space-between;min-width:160x;align-items:center;svg{stroke:#000000db;height:100%;width:40px;transition:0.15s;}p{padding-right:10px;}padding:0 5px;}div{position:relative;padding-left:5px;border-width:0 5px 5px 5px;border-style:solid;border-color:#000000db;background-color:white;display:flex;flex-direction:column;align-items:stretch;a{padding:5px 10px 5px 0;}}"),k=function(e){var t=e.labels,n=void 0===t?["所有"]:t,l=e.selected,r=void 0===l?0:l,o=e.onSelect,c=void 0===o?function(){}:o,s=Object(a.useState)(!1),m=s[0],d=s[1];return i.a.createElement("div",{className:y},i.a.createElement("a",{href:"#",className:"click",onMouseDown:function(e){return d(!m)},onTouchStart:function(e){return d(!m)},onTouchEnd:function(e){return e.preventDefault()},onBlur:function(e){return d(!1)}},i.a.createElement("p",null,n[r]),i.a.createElement(f.a,{style:m&&{transform:"rotate(180deg)"}})),m&&i.a.createElement("div",null,n.map(function(e,t){return i.a.createElement("a",{href:"#",key:t,onMouseDown:function(){c(t),d(!1)},onTouchStart:function(){c(t),d(!1)},onTouchEnd:function(e){return e.preventDefault()}},i.a.createElement("p",null,n[t]))})))},z=n(316),L=n.n(z),j={overlay:{zIndex:10},content:{width:"90%",maxWidth:"800px",padding:0,left:"50%",right:"auto",transform:"translate(-50%,0)",border:"5px solid #000000db"}},O=Object(l.css)("width:100%;height:100%;display:flex;flex-direction:column;*{margin:0;}.code{display:flex;flex-direction:column;align-items:center;p{font-size:1em;}h2{font-size:3em;}padding-bottom:10px;border-bottom:5px solid #000000db;margin:5px 0;}.bottom{height:100%;margin:10px;display:flex;flex-direction:row;align-items:center;div{flex:2;background-position:center;}p{font-size:1.6em;}}"),N=function(e){var t=e.isOpen,n=e.onRequestClose,a=e.carpet;return i.a.createElement(L.a,{isOpen:t,ariaHideApp:!1,onRequestClose:n,style:j,contentLabel:"Contact Modal"},t&&i.a.createElement("div",{className:O},i.a.createElement("div",{className:"code"},i.a.createElement("p",null,"你选择的产品代码"),i.a.createElement("h2",null,a.code)),i.a.createElement("div",{className:"bottom"},i.a.createElement("div",{style:{backgroundImage:"url("+a.fields.mainImage.normal.src+")",backgroundSize:"contain",backgroundRepeat:"no-repeat",margin:10,height:"100%"}}),i.a.createElement("div",null,i.a.createElement("p",null,"如果您对这种地毯感兴趣，请联系我们:"),i.a.createElement("p",null,"18610017411"),i.a.createElement("p",null,"或"),i.a.createElement("p",null,"18610017400")))))},S=n(323);n.d(t,"query",function(){return F}),Object(S.setConfig)({pureSFC:!0}),Object(l.injectGlobal)("@font-face{font-family:'LatoLatinWebBlack';src:url('fonts/LatoLatin/fonts/LatoLatin-Black.eot');src:url('fonts/LatoLatin/fonts/LatoLatin-Black.eot?#iefix') format('embedded-opentype'),url('fonts/LatoLatin/fonts/LatoLatin-Black.woff2') format('woff2'),url('fonts/LatoLatin/fonts/LatoLatin-Black.woff') format('woff'),url('fonts/LatoLatin/fonts/LatoLatin-Black.ttf') format('truetype');font-style:normal;font-weight:normal;text-rendering:optimizeLegibility;}"),Object(l.injectGlobal)("body{font-family:LatoLatinWebBlack;}.ReactModalPortal > *{opacity:0;}.ReactModal__Overlay{transition:opacity 200ms ease-in-out;background:rgba(0,0,0,0.15);&--after-open{opacity:1;}&--before-close{opacity:0;}}");var R=Object(l.css)("width:100%;display:flex;flex-direction:row;justify-content:center;padding:15px 0;background-color:white;z-index:5;position:sticky;top:0;> div{margin:0 10px;}@media only screen and (max-width:768px){padding:0;position:relative;flex-wrap:wrap;> div{width:100%;margin:0 5px;}}"),I={seriesFilter:[{label:"所有系列",value:[]},{label:"伊斯法罕",value:["ISFAHAN"]},{label:"大不里士",value:["TABRIZ"]}],priceFilter:[{label:"所有价格",value:{min:0,max:Number.MAX_SAFE_INTEGER}},{label:"¥0-¥49,999",value:{min:0,max:5e4}},{label:"¥49,999-¥99,999",value:{min:5e4,max:1e5}},{label:"¥99,999-",value:{min:1e5,max:Number.MAX_SAFE_INTEGER}}],sizeFilter:[{label:"所有大小",value:{min:0,max:Number.MAX_SAFE_INTEGER}},{label:"0-5m2",value:{min:0,max:5}},{label:"5m2-10m2",value:{min:5,max:10}},{label:"10m2-",value:{min:10,max:Number.MAX_SAFE_INTEGER}}]},F=(t.default=function(e){var t=e.data,n=Object(a.useState)(null),l=n[0],o=n[1],s=Object(a.useRef)(null),m=Object(a.useState)({series:0,price:0,size:0}),d=m[0],u=m[1],p=Object(a.useMemo)(function(){return t.carpets.edges.map(function(e,t){var n=Object.assign({},e.node);return n.display_size=n.width+"x"+n.height+"cm",n})},[]),f=Object(a.useMemo)(function(){var e=I.seriesFilter[d.series].value,t=I.priceFilter[d.price].value,n=I.sizeFilter[d.size].value;return p.filter(function(a){if(0!=e.length&&!e.includes(a.series))return!1;var i=parseInt(a.price.replace(",",""));if(i<t.min||i>=t.max)return!1;var l=a.width*a.height/1e4;return!(l<n.min||l>=n.max)})},[d.series,d.price,d.size]);return i.a.createElement(i.a.Fragment,null,i.a.createElement(N,{carpet:l,isOpen:!!l,onRequestClose:function(){return o(null)}}),i.a.createElement(c,null,i.a.createElement("img",{style:{alignSelf:"center",maxWidth:800,width:"100%"},src:"Logo/2x/Artboard 2@2x.png"}),i.a.createElement("div",{className:R},i.a.createElement(k,{labels:I.priceFilter.map(function(e){return e.label}),selected:d.price,onSelect:function(e){return u(Object.assign({},d,{price:e}))}}),i.a.createElement(k,{labels:I.sizeFilter.map(function(e){return e.label}),selected:d.size,onSelect:function(e){return u(Object.assign({},d,{size:e}))}})),i.a.createElement(r.c,null,function(e){var t=e.height,n=e.isScrolling,a=e.onChildScroll,l=e.scrollTop;return i.a.createElement(r.a,{disableHeight:!0,onResize:function(e){console.log(e),s.current.recomputeRowHeights(),s.current.forceUpdateGrid()}},function(e){var c=e.width;return i.a.createElement(r.b,{ref:s,style:{outline:"none"},autoHeight:!0,height:t,width:c,isScrolling:n,onScroll:a,rowCount:f.length,overscanRowCount:4,rowHeight:function(e){var t=e.index,n=window.matchMedia("only screen and (max-width: 768px)").matches,a=n?30:40,i=f[t].fields.mainImage.normal.aspectRatio;if(n)return(c-2*a)/i+285;var l=c/2-a;return Math.max(l/i,500)},rowRenderer:function(e){var t=e.index,n=e.style;return i.a.createElement("div",{style:n,key:f[t].id},i.a.createElement(w,{onOpenInfo:function(){return o(f[t])},carpet:f[t],key:c}))},scrollTop:l})})})))},"3327130478")}}]);
//# sourceMappingURL=component---src-pages-index-js-8d89890136fad0247463.js.map